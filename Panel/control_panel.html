<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>لوحة تحكم البوت</title>
  <link href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #121212;
      color: #ffffff;
    }
    nav, aside {
      background-color: #1f1f1f;
    }
    main {
      margin-left: 220px;
      padding: 2rem;
      transition: margin-left 0.3s;
    }
    aside {
      width: 200px;
      height: 100vh;
      position: fixed;
      top: 0;
      right: 0;
      padding: 1rem;
      display: flex;
      flex-direction: column;
      gap: 1rem;
      transition: transform 0.3s;
    }
    aside a {
      color: #bbb;
      text-decoration: none;
      font-weight: bold;
    }
    aside a:hover {
      color: #00bcd4;
    }
    section {
      margin-bottom: 4rem;
    }
    h2 {
      border-bottom: 1px solid #333;
      padding-bottom: 0.5rem;
      margin-bottom: 1.5rem;
    }
    .save-btn {
      margin-top: 1rem;
      background-color: #00bcd4;
      color: #121212;
    }
    .hidden {
      transform: translateX(100%);
    }
    #toggleMenu {
      position: fixed;
      top: 1rem;
      right: 1rem;
      background: none;
      border: none;
      color: white;
      font-size: 2rem;
      z-index: 999;
    }
    @media (min-width: 768px) {
      #toggleMenu {
        display: none;
      }
    }
  </style>
</head>
<body>

<!-- زر إظهار/إخفاء القائمة -->
<button id="toggleMenu">☰</button>

<!-- الشريط الجانبي -->
<aside id="sidebar">
  <a href="#questions">الأسئلة</a>
  <a href="#public-mention">المنشن العام</a>
  <a href="#private-mention">المنشن الخاص</a>
  <a href="#game-replies">ردود اللعبة</a>
  <a href="#channels">إعدادات القنوات</a>
  <a href="#rooms">إدارة الرومات</a>
  <a href="#settings">إعدادات إضافية</a>
</aside>

<!-- المحتوى الرئيسي -->
<main>

  <section id="questions">
    <h2>إدارة الأسئلة</h2>
    <textarea placeholder="أضف أو عدل الأسئلة هنا..." rows="8"></textarea>
    <button class="save-btn" onclick="saveSection('questions')">حفظ الأسئلة</button>
  </section>

  <section id="public-mention">
    <h2>المنشن العام</h2>
    <textarea placeholder="أدخل نص المنشن العام..." rows="6"></textarea>
    <button class="save-btn" onclick="saveSection('public-mention')">حفظ المنشن العام</button>
  </section>

  <section id="private-mention">
    <h2>المنشن الخاص</h2>
    <textarea placeholder="أدخل نص المنشن الخاص..." rows="6"></textarea>
    <button class="save-btn" onclick="saveSection('private-mention')">حفظ المنشن الخاص</button>
  </section>

  <section id="game-replies">
    <h2>ردود اللعبة</h2>
    <textarea placeholder="أدخل ردود اللعبة مثل الفوز أو الخسارة..." rows="6"></textarea>
    <button class="save-btn" onclick="saveSection('game-replies')">حفظ ردود اللعبة</button>
  </section>

  <section id="channels">
    <h2>إعدادات القنوات</h2>
    <textarea placeholder="بيانات قنوات التويتش..." rows="6"></textarea>
    <button class="save-btn" onclick="saveSection('channels')">حفظ إعدادات القنوات</button>
  </section>

  <section id="rooms">
    <h2>إدارة الرومات</h2>
    <textarea placeholder="أدخل معلومات الرومات..." rows="6"></textarea>
    <button class="save-btn" onclick="saveSection('rooms')">حفظ الرومات</button>
  </section>

  <section id="settings">
    <h2>إعدادات إضافية</h2>
    <textarea placeholder="إعدادات أخرى..." rows="6"></textarea>
    <button class="save-btn" onclick="saveSection('settings')">حفظ الإعدادات الإضافية</button>
  </section>

</main>

<!-- سكربت حفظ و إظهار/إخفاء القائمة -->
<script>
function saveSection(sectionId) {
  const data = document.querySelector(`#${sectionId} textarea`).value;
  if (!data.trim()) {
    alert('الرجاء كتابة شيء قبل الحفظ!');
    return;
  }
  
  fetch('/api/save', { 
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ section: sectionId, content: data })
  })
  .then(response => {
    if (response.ok) {
      alert('تم الحفظ بنجاح!');
    } else {
      alert('خطأ أثناء الحفظ!');
    }
  })
  .catch(error => {
    alert('فشل الاتصال بالسيرفر!');
    console.error(error);
  });
}

// سكربت إظهار وإخفاء القائمة
document.getElementById('toggleMenu').addEventListener('click', function() {
  document.getElementById('sidebar').classList.toggle('hidden');
});
</script>

</body>
</html>
